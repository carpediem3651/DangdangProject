<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" 
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   				layout:decorate="~{inc/layout.html}">

<head>
    <link href="/css/components/useredit.css" rel="stylesheet" type="text/css">
    <script type="module" src="/js/useredit.js" defer></script>
</head>

<body>
	<main layout:fragment="main">
	    <section class="userModity-box ph:29 d:flex flex:col align-items:center justify-content:center">
	        <h1 class="d:flex title align-items:center font-weight:bold font-size:8 color:text-1">회원정보 수정</h1>
	        <form action="" method="post" class="member-edit-form">
				<span sec:authorize="isAuthenticated()"><input type="hidden" id="sessionId" name="id" th:value="${#authentication.principal.id}"></span>
	            <fieldset>
	                <legend class="d:none">회원정보 수정 페이지</legend>
	                <section class="profileimg-box d:flex flex:col align-items:center mb:40">
	                    <div class="img-box position:relative">
							<input type="file" name="user-img" id="img" class="d:none">
	                        <img src="/image/member/default.png" th:src="@{/image/member/{img}(img=${m.userImg})}">
	                        <label class="img-btn icon icon:choice icon-size:10 position:absolute" for="img">아이콘</label>
	                    </div>
	                </section>
	                <div class="form-box mb:60">
	                    <div class="input-data readonly">
	                        <label class="text" for="user-id">아이디</label>
	                        <input id="user-id" class="input-box non-edit" type="text" th:value="${#authentication.principal.userId}" disabled/>
	                    </div>  
	                </div>
	                <div class="form-box mb:60">
	                    <div class="input-data">
	                        <input id="ninkname" class="nickname-input input-box" type="text" name="userName" autocomplete="off" th:value="${m.userName}" required />
	                        <div class="underline error"></div>
	                        <label for="ninkname">닉네임</label>
	                        <div class="errorBox">
	                            <span class="errorText"><span class="deco icon:error">중복된 닉네임입니다</span></span>
	                            <span class="successText">사용가능한 닉네임입니다</span>
	                        </div>
	                    </div>  
	                </div>
	                
	                <div class="d:flex align-items:center justify-content:center w:312 h:113">
	                    <span class="color:text-3">가입일 : <span th:text="${#dates.format(m.regDate, 'yyyy년 MM월 dd일')}">2023.08.23</span></span>
	                </div>
	                <div class="select-box m:auto d:flex flex:col h:137 mb:60">
	                    <button class="m-btn btn-second mh:auto mb:auto font-weight:bold" type="submit">변경하기</button>
	                    <button class="m-btn btn-cancel btn-second:cancel mh:auto font-weight:bold">취소</button>
	                </div>
	            </fieldset>
	        </form>
	    </section>
	</main>
</body>

</html>